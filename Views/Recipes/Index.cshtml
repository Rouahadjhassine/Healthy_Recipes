@model IEnumerable<Healthy_Recipes.ViewModels.RecipeViewModel>

@{
    ViewData["Title"] = "Recettes";
}

<style>
    .recipe-card:hover .recipe-image {
        transform: scale(1.05);
    }
    .recipe-image {
        transition: transform 0.3s ease;
    }
</style>

<section class="mb-8">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-bold text-gray-800">Toutes nos recettes</h2>
        <div class="relative w-64">
            <input type="text" placeholder="Rechercher une recette..." 
                   class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500">
            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
        </div>
    </div>

    <div class="flex mb-6 space-x-2 overflow-x-auto pb-2">
        <a asp-action="Index" asp-route-category="" class="px-4 py-2 bg-green-700 text-white rounded-full text-sm font-medium">Toutes</a>
        <a asp-action="Index" asp-route-category="Végétarien" class="px-4 py-2 bg-white border border-gray-300 rounded-full text-sm font-medium hover:bg-gray-100">Végétarien</a>
        <a asp-action="Index" asp-route-category="Vegan" class="px-4 py-2 bg-white border border-gray-300 rounded-full text-sm font-medium hover:bg-gray-100">Vegan</a>
        <a asp-action="Index" asp-route-category="Sans gluten" class="px-4 py-2 bg-white border border-gray-300 rounded-full text-sm font-medium hover:bg-gray-100">Sans gluten</a>
        <a asp-action="Index" asp-route-category="Protéiné" class="px-4 py-2 bg-white border border-gray-300 rounded-full text-sm font-medium hover:bg-gray-100">Protéiné</a>
        <a asp-action="Index" asp-route-category="Faible en calories" class="px-4 py-2 bg-white border border-gray-300 rounded-full text-sm font-medium hover:bg-gray-100">Faible en calories</a>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        @if (Model != null && Model.Any())
        {
            foreach (var recipe in Model)
            {
                <div class="recipe-card bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition">
                    <div class="overflow-hidden h-48">
                        <img src="@recipe.ImageUrl" alt="@recipe.Title" class="w-full h-full object-cover recipe-image">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="text-xl font-bold text-gray-800">@recipe.Title</h4>
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">@recipe.Category</span>
                        </div>
                        <p class="text-gray-600 mb-4">@recipe.Description</p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center text-yellow-500">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                                <span class="text-gray-600 ml-2">4.5</span>
                            </div>
                            <a asp-action="Details" asp-route-id="@recipe.Id" class="text-green-700 font-medium hover:underline">
                                Voir la recette
                            </a>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <p class="text-center col-span-3">Aucune recette trouvée.</p>
        }
    </div>
</section>